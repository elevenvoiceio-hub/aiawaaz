<audio #audioPlayer src=""></audio>

<section id="demo" class="py-20 sm:py-24">
  <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold tracking-tight sm:text-4xl">
        Try It Yourself
      </h2>
      <p class="mt-4 text-lg text-muted-foreground">
        Experience the quality of {{appName}} firsthand.
      </p>
    </div>
    <div
      data-slot="card"
      class="bg-card dark:bg-[#171717] text-card-foreground flex flex-col gap-6 rounded-xl border border-[#FFFFFF19] py-6 shadow-sm overflow-hidden"
    >
      <div class="grid grid-cols-1 lg:grid-cols-2">
        <div class="p-8">
          <h3 class="text-xl font-semibold mb-4">Try Text to Speech</h3>
          <div class="space-y-4">
            <textarea
              class="w-full p-4 bg-muted size-full resize-none"
              hlmInput
              placeholder="Enter some text to generate speech..."
              rows="2"
              [(ngModel)]="selectedVoice.text"
              name="text"
              maxlength="100"
              readonly
            >
Hello, welcome to {{appName}}. Experience the future of voice technology.
        </textarea
            >
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <hlm-select
                class="inline-block"
                placeholder="Select an option"
                [(value)]="selectedLanguage"
                scrollable="true"
                id="language"
                (valueChange)="selectedVoice = voices[selectedLanguage.locale][0]"
              >
                <hlm-select-trigger class="w-full">
                  <hlm-select-value />
                </hlm-select-trigger>
                <hlm-select-content class="max-h-92">
                  <hlm-select-scroll-up />
                  @for(language of languages; track language){
                  <hlm-option [value]="language">{{ language.language }}</hlm-option> }
                  <hlm-select-scroll-down />
                </hlm-select-content>
              </hlm-select>
              <hlm-select
                class="inline-block"
                placeholder="Select an option"
                [(value)]="selectedVoice"
                scrollable="true"
                id="voice"

              >
                <hlm-select-trigger class="w-full">
                  <hlm-select-value />
                </hlm-select-trigger>
                <hlm-select-content class="max-h-92">
                  <hlm-select-scroll-up />
                  @for(voice of voices[selectedLanguage.locale]; track voice){
                  <hlm-option [value]="voice">{{ voice.display_name }}</hlm-option> }
                  <hlm-select-scroll-down />
                </hlm-select-content>
              </hlm-select>
            </div>
            <button hlmBtn class="w-full" (click)="playAudio(audioPlayer, selectedVoice)">
              <ng-icon name="lucidePlay" class="mr-2"></ng-icon>
              Generate &amp; Play
            </button>
          </div>
        </div>
        <app-wave-visualizer />
      </div>
    </div>
    <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4 text-center">
      <a
        hlmBtn
        variant="outline"
        class="dark:bg-[#FFFFFF26]/30 dark:hover:bg-[#FFFFFF26]/50 dark:border-[#FFFFFF19]"
        [href]="domain"
      >
        Try Voice Cloning</a
      ><a
        hlmBtn
        variant="outline"
        class="dark:bg-[#FFFFFF26]/30 dark:hover:bg-[#FFFFFF26]/50 dark:border-[#FFFFFF19]"
        [href]="domain"
      >
        Try Speech to Text
      </a>
    </div>
  </div>
</section>
